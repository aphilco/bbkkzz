{% extends 'base.html' %}

{% block title %}类型管理{% endblock %}

{% block content %}
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
  <legend>类型管理
<a href="{% url 'bkz:typeadd' 1 %}" class="layui-btn layui-btn-warm  layui-btn-radius"><i class="layui-icon">&#xe61f;</i>新增</a>
</legend>
</fieldset>


<form class="layui-form layui-form-pane" action="">
<div  style="width:96%; margin:0 auto;">
<table class="layui-table" lay-even="" lay-skin="row">
  <colgroup>
    <col>
    <col width="140">
  </colgroup>
  <thead>
    <tr>
      <th>类别名称</th>
      <th>操作</th>
    </tr> 
  </thead>

{% load mptt_tags %}
<tbody>
{% recursetree nodes %}

    {% if node.is_leaf_node %}
    <tr>
        <td>&nbsp;&nbsp;<i class="layui-icon">{{ node.icont }}</i>&nbsp;&nbsp;{{ node.tname }} </td>
        <td>
              <div class="layui-btn-group">
                <a href="{% url 'bkz:typeedit' node.id %}" class="layui-btn layui-btn-primary layui-btn-small">编辑</a>
              </div>
        </td>
    </tr>
    {% else %}
    <tr>
        <td>{{ node.tname }} </td>
        <td>
              <div class="layui-btn-group">
                <a href="{% url 'bkz:typeedit' node.id %}" class="layui-btn layui-btn-primary layui-btn-small">编辑</a>
              </div>
        </td>
    </tr>
        {{ children }}
    {% endif %}

{% endrecursetree %}
</tbody>


</table> 

</div>
</form>

 </div> 
    


<script>
//Demo
layui.use(['element','form', ], function(){
  var form = layui.form
  ,$ = layui.jquery
  ,element = layui.element; //导航的hover效果、二级菜单等功能，需要依赖element模块  
  
  
  
});
</script>

{% endblock %}